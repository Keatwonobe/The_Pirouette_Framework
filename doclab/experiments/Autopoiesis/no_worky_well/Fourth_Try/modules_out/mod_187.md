B) CLASS/CAMB Patch Points (Skeleton)
Background:
/* background_derivs.c */
/* y[igamma] = Γ, y[igammap] = Γ′ */
dydeta[igamma]   = y[igammap];
dydeta[igammap]  = -2*H_conf*y[igammap] - a*a*Vprime(gamma);
rho_gamma = 0.5*(y[igammap]*y[igammap])/(a*a) + V(gamma);
pre_gamma = 0.5*(y[igammap]*y[igammap])/(a*a) - V(gamma);

Perturbations:
/* perturbations_derivs.c */
/* u[delta_gamma] = δΓ, u[delta_gamma_p] = δΓ′ */
udot[delta_gamma]    = u[delta_gamma_p];
udot[delta_gamma_p]  = -2*H_conf*u[delta_gamma_p]
- (k2 + a*a*Vsecond(gamma)) * u[delta_gamma]
+ 4*gamma_p*phi_p - 2*a*a*Vprime(gamma)*phi;
/* sources */
delta_rho_gamma = (gamma_p*u[delta_gamma_p] - gamma_p*gamma_p*phi)/(a*a)
+ Vprime(gamma)*u[delta_gamma];
delta_p_gamma   = (gamma_p*u[delta_gamma_p] - gamma_p*gamma_p*phi)/(a*a)
- Vprime(gamma)*u[delta_gamma];
theta_gamma     = (k2*gamma_p*u[delta_gamma])/(a*a) / (rho_gamma + pre_gamma);
shear_gamma     = 0.0;

Switching (optional): when m_Γ/H > switch_threshold and k/a < κ_switch m_Γ, route to fluid mapping branch using c_{s,eff}².