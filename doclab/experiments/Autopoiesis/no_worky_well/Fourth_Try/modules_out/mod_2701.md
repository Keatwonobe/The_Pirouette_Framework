2. Background & Perturbation Equations (Conformal Time η)
   Background energy density and pressure from P(X(n)) with X=μ−θ′/a.
   Implement as species `gammat_superfluid` with variables {ρ_Γ(a), p_Γ(a)} obeying:
   ρ_Γ′ = −3ℋ (ρ_Γ + p_Γ).

Perturbations (Newtonian gauge, effective fluid):
δ_Γ′ = −(1+w_Γ)(θ_Γ − 3Φ′) − 3ℋ (c_{s,eff}² − w_Γ) δ_Γ
θ_Γ′ = −ℋ θ_Γ + k² Ψ + k² c_{s,eff}² δ_Γ/(1+w_Γ)
with w_Γ≈0 through recombination (ensure c_{s,eff}² ≪ 10^{−6} on k relevant to ℓ≲2500).

Switch criteria (field↔fluid):
• Use fluid mapping when m_H/H>50 and k/a<κ_switch m_H (default κ_switch=0.5).
• Fall back to full field if either condition fails.