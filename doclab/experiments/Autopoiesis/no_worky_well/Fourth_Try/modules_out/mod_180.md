Gauge: synchronous or Newtonian; below in Newtonian.
Variables: δΓ, θ_Γ (velocity potential), metric Φ,Ψ.
Full field approach:
δΓ̈ + 3H δΓ̇ + (k²/a² + V″) δΓ = 4 Γ̇ Φ̇ − 2 V′ Φ
Poisson: k²Φ = 4πGa² δρ_total.

Fluid mapping (oscillatory regime):
Treat Γ as an effective fluid with
w_Γ≈0,
c_s,eff² ≈ ⟨(k²/a²)/(4m_Γ² + (k²/a²))⟩  → 0 on large scales; include small scale suppression if needed.
Evolution:
δ̇_Γ = −(1+w_Γ)(θ_Γ − 3Φ̇) − 3H(c_s,eff² − w_Γ)δ_Γ
θ̇_Γ = −H θ_Γ + k²Ψ + k² c_s,eff² δ_Γ/(1+w_Γ).

Implementation notes:
• Provide both solvers and switch based on m/H and k/a relative to m_Γ.
• Ensure tight‑coupling era stability; run with integrator safeguards (step rejection, positivity checks).

CLASS file touchpoints:
• background.c/.h: add gammat background; fast‑averaging map.
• perturbations.c/.h: add Γ equations; fluid mapping branch.
• input.c: new parameters and defaults; prior boxes per MATH‑018.
• thermodynamics.c: unchanged.
• transfer.c / spectra.c: standard.