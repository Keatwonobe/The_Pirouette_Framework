A) Exact Equations (Conformal Time η)
Notation: a(η) scale factor; ℋ ≡ a′/a; primes = d/dη; k = comoving wavenumber; metric potentials (Newtonian gauge) Φ,Ψ.

A1. Background (FIELD FORM)
Γ′′ + 2ℋ Γ′ + a² V_{,Γ}(Γ) = 0
ρ_Γ = (Γ′²)/(2 a²) + V(Γ)
p_Γ = (Γ′²)/(2 a²) − V(Γ)
Conformal Friedmann: ℋ² = (8πG/3) a² (ρ_r + ρ_b + ρ_Γ)

A2. Perturbations (Newtonian Gauge, FULL FIELD)
δΓ′′ + 2ℋ δΓ′ + (k² + a² V_{,ΓΓ}) δΓ = 4 Γ′ Φ′ − 2 a² V_{,Γ} Φ
δρ_Γ = (1/a²) (Γ′ δΓ′ − Γ′² Φ) + V_{,Γ} δΓ
δp_Γ = (1/a²) (Γ′ δΓ′ − Γ′² Φ) − V_{,Γ} δΓ
(ρ_Γ + p_Γ) θ_Γ = (k²/a²) Γ′ δΓ
σ_Γ = 0 (canonical scalar)

Einstein closures (for completeness):
k² Φ + 3ℋ (Φ′ + ℋ Ψ) = 4πG a² δρ_tot
Φ′ + ℋ Ψ = 4πG a² Σ_s (ρ_s + p_s) θ_s / k²
Φ − Ψ = 8πG a² Σ_s (ρ_s + p_s) σ_s  (→ 0 here since σ_Γ=0)

A3. Fluid Mapping (Oscillatory Regime, OPTIONAL)
When m_Γ ≫ H and the field oscillates rapidly,
w_Γ ≈ 0,
c_{s,eff}²(k,a) ≈ (k²/a²) / (4 m_Γ² + k²/a²)
Evolution equations:
δ̇_Γ = −(1 + w_Γ)(θ_Γ − 3 Φ̇) − 3H (c_{s,eff}² − w_Γ) δ_Γ
θ̇_Γ = −H θ_Γ + k² Ψ + k² c_{s,eff}² δ_Γ/(1 + w_Γ)
(Overdots here are physical‑time derivatives; in code, convert using d/dη = a d/dt.)

A4. Initial Conditions (Super‑Horizon, Adiabatic)
Given primordial curvature ζ and Φ≈const, a consistent choice is:
δΓ_ini = − (Γ′/ℋ) Φ_ini
δΓ′_ini = − [ (Γ′′/ℋ) − Γ′ (ℋ′/ℋ²) ] Φ_ini
with other species set by standard adiabatic relations. In CLASS, hook this into the adiabatic IC branch for the new species.